"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolve = void 0;
var fs = require("fs");
var path = require("path");
/**
 * Return the "paths" function.
 * This "paths" function can be used in the webpack.config.js file to find all the potential
 * locations of a dependency whether that dependency was hoisted by a yarn workspace or not.
 * @param requireResolvePath Pass the function 'require.resolve.paths'.
 */
var paths = function (requireResolvePath) { return function (name) {
    var options = requireResolvePath(name);
    if (options) {
        return options
            .map(function (p) { return path.join(p, name); })
            .filter(function (p) { return fs.existsSync(p); });
    }
    return [];
}; };
/**
 * Return the "resolve" function.
 * This "resolve" function can be used in the webpack.config.js file to find the real location of
 * any dependency whether that dependency was hoisted by a yarn workspace or not.
 * @param requireResolvePath Pass the function 'require.resolve.paths'.
 */
exports.resolve = function (requireResolvePath) { return function (name) {
    var options = paths(requireResolvePath)(name);
    if (options.length > 0) {
        return options[0];
    }
    return path.resolve(name);
}; };
//# sourceMappingURL=index.js.map